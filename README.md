# 🌿 记了么 | AI Memory Palace

[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

> **AI 自动生成沉浸式记忆场景**
> 
> 上传词库，AI 自动生成记忆宫殿场景，让单词在故事中自然生长

## ✨ 功能特点

- 🤖 **AI 场景生成** - 上传单词，AI 自动分析并选择最匹配的场景
- 🏛️ **50个预设场景** - 图书馆、海滩、太空站...覆盖各种主题
- 📄 **多格式支持** - 支持 PDF、Word、TXT 词库上传
- 🌐 **中英双语** - 一键切换中英文叙事
- 💡 **单词高亮** - 悬浮查看词义，自然融入故事
- 📱 **响应式设计** - 支持桌面端和移动端
- 💾 **本地缓存** - 历史词库自动保存，随时回顾

## 🎯 使用示例

### 输入单词
```
abandon: v. 放弃
absorb: v. 吸收
abstract: adj. 抽象的
academic: adj. 学术的
accelerate: v. 加速
...
```

### AI 生成场景

AI 会自动分析单词主题，从 50 个预设场景中选择最匹配的 1-5 个场景：

**场景1: 晨光图书馆** 🏛️
> 清晨的阳光透过高窗洒入图书馆。一位学者正在 **abandon**（放弃）他原本的研究方向，
> 转而 **absorb**（吸收）新的知识。书架上摆满了 **abstract**（抽象的）理论著作，
> 这里是 **academic**（学术的）殿堂...

**场景2: 科学实验室** 🔬
> 实验室里弥漫着化学试剂的气味。研究员们正在 **accelerate**（加速）实验进程...

### 交互功能
- 点击段落展开翻译
- 悬浮单词查看释义
- 按 `←` `→` 翻页
- 按 `L` 切换语言

## 🚀 快速开始

### 后端

```bash
cd memory-palace-mvp/backend

# 创建虚拟环境
python -m venv venv
.\venv\Scripts\activate  # Windows
source venv/bin/activate  # Mac/Linux

# 安装依赖
pip install -r requirements.txt

# 启动服务
uvicorn app.main:app --reload --port 8000
```

### 前端

```bash
cd memory-palace-mvp/frontend
npm install
npm run dev
```

访问 http://localhost:5173 开始使用。

### 配置 AI

访问 http://localhost:5173/admin（密钥：admin123）配置 AI API Key。

支持的 AI 提供商：
- **MiniMax**（推荐，性价比最高）
- 智谱 GLM
- DeepSeek
- OpenAI / Anthropic

## 🏗️ 系统架构

```
┌─────────────────────────────────────────────────────────────┐
│                        用户输入                              │
│                    200个单词 + 释义                          │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                      AI 分析引擎                             │
│  1. 分析单词主题                                             │
│  2. 从50个场景中选择1-5个最匹配的                            │
│  3. 将单词分配到各场景                                       │
│  4. 生成故事段落（使用 [[word]] 标记）                       │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                      后端处理                                │
│  1. scene_id → 获取预设图片URL                              │
│  2. [[word]] → <span class='word-highlight'>...</span>      │
│  3. 组装最终场景数据                                         │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                      前端展示                                │
│  • 背景图片 + 毛玻璃卡片                                     │
│  • 单词高亮 + 悬浮释义                                       │
│  • 段落点击展开翻译                                          │
└─────────────────────────────────────────────────────────────┘
```

## 🎨 50个预设场景

| 分类 | 场景 |
|------|------|
| 学习教育 | 图书馆、大学礼堂、科学实验室、艺术工作室、音乐教室 |
| 商务职场 | 现代办公室、会议室、证券交易所、创业车库、法庭 |
| 医疗健康 | 医院大厅、药房、健身房 |
| 自然户外 | 城市公园、海滩、山顶、森林小径、植物园 |
| 交通旅行 | 机场航站楼、火车站、游轮甲板 |
| 餐饮社交 | 温馨咖啡馆、高级餐厅、农贸市场、面包房 |
| 文化娱乐 | 自然博物馆、剧院、电影院、游乐园、体育场 |
| 科技数码 | 科技中心、服务器机房、机器人实验室 |
| 家居生活 | 温馨客厅、厨房、卧室、私家花园 |
| 城市场景 | 城市街道、购物中心、银行大厅、警察局、消防站 |
| 特殊场景 | 空间站、海底世界、古老寺庙、中世纪城堡、沙漠绿洲、北极冰原、热带雨林、火山口 |

## 📁 项目结构

```
.
├── memory-palace-mvp/     # 项目代码
│   ├── backend/           # FastAPI 后端
│   │   └── app/
│   │       ├── main.py        # API 路由
│   │       ├── ai_service.py  # AI 场景生成（含50场景库）
│   │       └── ...
│   └── frontend/          # React 前端
│       └── src/
│           ├── pages/
│           │   ├── Scene.jsx      # 场景展示页
│           │   ├── WordInput.jsx  # 单词输入页
│           │   └── ...
│           └── index.css      # 样式（含word-highlight）
├── docs/                  # 文档
│   ├── PROMPT-记忆宫殿单词系统.md
│   ├── TECH-技术实现文档.md
│   └── ...
├── templates/             # HTML 模板参考
└── samples/               # 示例文件
```

## 🛠️ 技术栈

- **后端**: FastAPI, Python 3.10+
- **前端**: React 18, Vite, Tailwind CSS
- **AI**: MiniMax / 智谱 / DeepSeek / OpenAI / Anthropic

## 📄 License

MIT License

---

**🌿 在场景中记忆，让单词自然生长**
